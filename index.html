<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>دیجی‌نمونه - فروشگاه</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

  <!-- هدر -->
  <header class="bg-white shadow p-4 sticky top-0 z-50">
    <div class="container mx-auto flex items-center justify-between">
      <h1 class="text-2xl font-bold text-red-600">دیجی‌نمونه</h1>

      <!-- منو -->
      <nav class="hidden lg:flex gap-4">
        <a class="hover:underline" href="#">خانه</a>
        <a class="hover:underline" href="#">محصولات</a>
        <a class="hover:underline" href="#">تماس</a>
      </nav>

      <!-- سبد خرید -->
      <div class="relative">
        <button id="cartBtn" class="px-4 py-2 border rounded bg-red-500 text-white">
          🛒 سبد خرید
          <span id="cartCount" class="bg-white text-red-600 font-bold rounded-full px-2 py-0.5 ml-2">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- محتوای اصلی -->
  <main class="container mx-auto p-4">
    <!-- ورودی جستجو و فیلتر -->
    <div class="mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
      <input type="text" placeholder="جستجو..." class="w-full sm:w-1/2 p-2 border rounded" />
      <div class="flex gap-2">
        <button class="px-3 py-2 bg-white border rounded">مرتب‌سازی</button>
        <button class="px-3 py-2 bg-white border rounded">فیلتر</button>
      </div>
    </div>

    <!-- گرید محصولات -->
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">

      <!-- کارت محصول -->
      <article class="bg-white rounded-lg shadow p-4 flex flex-col">
        <img src="https://via.placeholder.com/600x400" alt="محصول" class="w-full h-[180px] object-cover rounded-md mb-3" />
        <h2 class="text-lg font-bold">گوشی هوشمند مدل X</h2>
        <p class="text-sm text-gray-500 mb-2">حافظه 128GB</p>
        <div class="mt-auto flex items-center justify-between">
          <p class="text-green-600 font-bold">۵,۵۰۰,۰۰۰ تومان</p>
          <button class="addToCart bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded"
            data-name="گوشی هوشمند مدل X" data-price="5500000">افزودن</button>
        </div>
      </article>

      <article class="bg-white rounded-lg shadow p-4 flex flex-col">
        <img src="https://via.placeholder.com/600x400" alt="محصول" class="w-full h-[180px] object-cover rounded-md mb-3" />
        <h2 class="text-lg font-bold">هدفون بی‌سیم Y</h2>
        <p class="text-sm text-gray-500 mb-2">نویز کنسلینگ</p>
        <div class="mt-auto flex items-center justify-between">
          <p class="text-green-600 font-bold">۱,۲۰۰,۰۰۰ تومان</p>
          <button class="addToCart bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded"
            data-name="هدفون بی‌سیم Y" data-price="1200000">افزودن</button>
        </div>
      </article>

      <article class="bg-white rounded-lg shadow p-4 flex flex-col">
        <img src="https://via.placeholder.com/600x400" alt="محصول" class="w-full h-[180px] object-cover rounded-md mb-3" />
        <h2 class="text-lg font-bold">لپ‌تاپ Z</h2>
        <p class="text-sm text-gray-500 mb-2">رم 16GB — پردازنده i7</p>
        <div class="mt-auto flex items-center justify-between">
          <p class="text-green-600 font-bold">۲۵,۰۰۰,۰۰۰ تومان</p>
          <button class="addToCart bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded"
            data-name="لپ‌تاپ Z" data-price="25000000">افزودن</button>
        </div>
      </article>

    </section>
  </main>

  <!-- مودال سبد خرید -->
  <div id="cartModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white w-96 rounded-lg shadow-lg p-4 relative">
      <button id="closeCart" class="absolute top-2 left-2 text-gray-500">✖</button>
      <h2 class="text-xl font-bold mb-4">سبد خرید</h2>
      <ul id="cartItems" class="space-y-2 mb-4"></ul>
      <p id="cartTotal" class="font-bold">مجموع: ۰ تومان</p>
    </div>
  </div>

  <!-- جاوااسکریپت -->
  <script>
    const cart = [];
    const cartCount = document.getElementById("cartCount");
    const cartItems = document.getElementById("cartItems");
    const cartTotal = document.getElementById("cartTotal");
    const cartModal = document.getElementById("cartModal");

    // افزودن به سبد خرید
    document.querySelectorAll(".addToCart").forEach(btn => {
      btn.addEventListener("click", () => {
        const name = btn.dataset.name;
        const price = parseInt(btn.dataset.price);
        cart.push({ name, price });
        updateCart();
      });
    });

    // باز کردن سبد
    document.getElementById("cartBtn").addEventListener("click", () => {
      cartModal.classList.remove("hidden");
    });

    // بستن سبد
    document.getElementById("closeCart").addEventListener("click", () => {
      cartModal.classList.add("hidden");
    });

    // آپدیت سبد
    function updateCart() {
      cartCount.textContent = cart.length;
      cartItems.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        total += item.price;
        const li = document.createElement("li");
        li.textContent = `${item.name} - ${item.price.toLocaleString()} تومان`;
        cartItems.appendChild(li);
      });
      cartTotal.textContent = `مجموع: ${total.toLocaleString()} تومان`;
    }
  </script>

</body>
</html>

